---
title: "R Notebook"
output: html_notebook
---


# EDA of the 16 Covid-19 Dashboard Indicators

### Goals

### Comments



```{r}
library(cansim)
library(ggplot2)
library(dplyr)
library(plotly)
library(stringr)
```



cache tables in data directory
```{r}
options(cansim.cache_path="/home/jovyan/data")
```


## Data Extraction

As defined under Definitions section at https://www150.statcan.gc.ca/n1/pub/71-607-x/71-607-x2020009-eng.htm
```{r}
dashboard_table_names = c("36-10-0434-01", "18-10-0004-01", "14-10-0287-01", "12-10-0121-01", "12-10-0121-01",
                     "20-10-0008-01", "14-10-0289-01", "16-10-0047-01", "23-10-0008-01", "23-10-0008-01",
                     "23-10-0008-01", "23-10-0216-01", "24-10-0005-01", "24-10-0005-01", "24-10-0005-01",
                     "24-10-0005-01" )
length(dashboard_table_names)
```

Download all NDM tables
```{r}
dashboard_tables = lapply(dashboard_table_names, FUN=get_cansim)
```


Replace spaces in variable names with underscore for better processing
```{r}
for (i in seq_along(dashboard_tables)) {
  colnames(dashboard_tables[[i]]) = str_replace_all(colnames(dashboard_tables[[i]]), c(" " = "_"))
}
```


```{r}
head(filter(dashboard_tables[[4]], Trade=='Export', Seasonal_adjustment=='Seasonally adjusted', Basis=='Balance of payments'))
```

Same table for exports and the imports here
```{r}
head(filter(dashboard_tables[[4]], Trade=='Import', Seasonal_adjustment=='Seasonally adjusted', Basis=='Balance of payments'))
```

```{r}
head(filter(dashboard_tables[[6]], Adjustments=='Seasonally adjusted'))
```

```{r}
head(filter(dashboard_tables[[7]], Adjustments=='Seasonally adjusted'))
```

continue with 8 later
```{r}
head(dashboard_tables[[8]] )
```




```{r}
#unique(dashboard_tables[[4]]$`North_American_Product_Classification_System_(NAPCS)`)
```



```{r}
vectors = c("v65201210", "v41690973", "v2062809", "v1001827265", "v1001826653", "v52367097", "v4391505",)
```

GDP: all industries
CPI: All-items consumer price index (2002=100), not adjusted for seasonality. Note that UOM is set as 2002=100.
exports (4): assume `Total of all merchandise` is equal to `total of all products` in Definitions on website, filtered by `Export` and `Seasonal adjustment`, 'Balance of Payments`. Assume uOM dollars is current dollars.


